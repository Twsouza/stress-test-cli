# Stress Test CLI

## Description

LoadTester is a command-line interface (CLI) application written in Go that enables users to perform load testing on web services. By specifying the target URL, total number of requests, and level of concurrency, the application simulates traffic and measures the performance of the web service. After execution, it generates a detailed report summarizing the results.

## Table of Contents

- [Description](#description)
- [Installation](#installation)
- [Usage](#usage)
- [Features](#features)
- [Prerequisites](#prerequisites)

## Installation

Follow these steps to set up and build the LoadTester application:

1. **Install Dependencies**

  Ensure that Go and Mockery are installed on your system.

  - **Go**: Install from the [official website](https://golang.org/dl/).
  - **Mockery**: Install via Go modules:

    ```bash
    go install github.com/vektra/mockery/v2@latest
    ```

2. **Generate Mocks**

  Use Mockery to generate necessary mocks:

  ```bash
  make mock
  ```

3. **Run Tests**

  Execute the test suite to verify functionality:

  ```bash
  make test
  ```

4. **Build the Application**

  Compile the application executable:

  ```bash
  make build
  ```

## Usage

After building, run the application using:

```bash
./bin/stress-test --url=http://example.com --requests=1000 --concurrency=10
```

### Command-Line Options

- `--url`: **(Required)** The URL of the web service to test.
- `--requests`: Total number of HTTP requests to perform (default: `1`).
- `--concurrency`: Number of simultaneous requests to execute (default: `1`).
- `--debug`: Enable debug mode to display additional information (default: `false`).

### Example

To perform 500 requests to `http://google.com` with 5 concurrent workers:

```bash
./bin/stress-test --url=http://google.com --requests=500 --concurrency=5
```

### Sample Output

After running the load test, the application generates a report similar to the following:

```
--- Load Test Report ---
Total Time Spent: 4.567890123s
Total Requests Made: 500
Requests with HTTP Status 200: 480
Distribution of Other HTTP Status Codes:
Status 404: 15
Status 500: 5
Failed Requests (No HTTP Response): 1
```

## Features

- **Command-Line Interface**: Easily configure load tests via CLI parameters.
- **Concurrent Requests**: Simulate multiple concurrent users by specifying the level of concurrency.
- **Detailed Reporting**: Provides a comprehensive report including execution time, successful requests, and HTTP status code distribution.
- **SOLID Design Principles**: The application is designed following SOLID principles for better maintainability and scalability.
- **Unit Testing with Mocks**: Includes unit tests with mocks generated by Mockery to ensure code reliability.

## Prerequisites

Before installing and running LoadTester, ensure the following software is installed:

- **Go**
- **Make**
- **Mockery** (for generating mocks in testing)
